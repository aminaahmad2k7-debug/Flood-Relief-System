<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Districts - Flood Relief System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bundle.css') }}">
</head>

<body>

<!-- Header -->
<header class="header">
    <div class="header__container container">

        <a href="{{ url_for('index') }}" class="header__logo">
            <span>ðŸŒŠ</span>
            <span>Flood Relief System</span>
        </a>

        <nav class="nav">
            <ul class="nav__list" id="navList">

                <li class="nav__item">
                    <a href="{{ url_for('upload_page') }}" class="nav__link">
                        Upload Data
                    </a>
                </li>

                <li class="nav__item">
                    <a href="{{ url_for('index') }}" class="nav__link">
                        Dashboard
                    </a>
                </li>

                <li class="nav__item">
                    <a href="{{ url_for('districts') }}"
                       class="nav__link nav__link--active">
                        Districts
                    </a>
                </li>

            </ul>

            <button class="nav__toggle" id="navToggle"
                    aria-label="Toggle navigation"
                    aria-expanded="false">
                <span class="nav__toggle-icon"></span>
            </button>
        </nav>

    </div>
</header>

<!-- Main Content -->
<main class="main">
    <div class="container">

        <div class="page-header">
            <h1 class="page-title">District Statistics</h1>
            <p class="page-subtitle">Comprehensive data for all affected districts</p>
        </div>

        <!-- Districts Table -->
        <div class="card">
            <div class="card__header">
                <h2 class="card__title">All Districts</h2>
            </div>
            <div class="table-wrapper">
                <table class="table table--striped">
                    <thead>
                        <tr>
                            <th>District Name</th>
                            <th>Population Affected</th>
                            <th>Houses Damaged</th>
                            <th>Casualties</th>
                            <th>Relief Amount (PKR)</th>
                            <th>Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>

                    <tbody>
                        {% for d in districts %}
                        <tr>
                            <td><strong>{{ d.name }}</strong></td>
                            <td>{{ "{:,}".format(d.population) }}</td>
                            <td>{{ "{:,}".format(d.houses) }}</td>
                            <td>{{ d.casualties }}</td>
                            <td>PKR {{ "{:,}".format(d.relief) }}</td>
                            <td>{{ d.date }}</td>
                            <td>
                                <a href="{{ url_for('district_detail', district_id=d.id) }}"
                                   class="btn btn--sm btn--secondary">
                                    View Details
                                </a>
                            </td>
                        </tr>
                        {% else %}
                        <tr>
                            <td colspan="7" style="text-align:center; padding: 2rem;">
                                No district data available
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>

                </table>
            </div>
        </div>

    </div>
</main>

<!-- Footer -->
<footer class="footer">
    <div class="footer__container container">
        <p class="footer__text">Â© 2025 Flood Relief System. All rights reserved.</p>
        <ul class="footer__links">
            <li><a href="{{ url_for('index') }}" class="footer__link">Dashboard</a></li>
            <li><a href="{{ url_for('upload_page') }}" class="footer__link">Upload</a></li>
            <li><a href="{{ url_for('districts') }}" class="footer__link">Districts</a></li>
        </ul>
    </div>
</footer>

<script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>